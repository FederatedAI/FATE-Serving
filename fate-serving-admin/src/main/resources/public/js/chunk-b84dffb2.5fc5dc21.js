(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b84dffb2"],{"318a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"service-main"},[i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"service-tit"},[t._v("\n            Service\n        ")]),i("el-table",{staticClass:"table",attrs:{data:t.serviceData,"header-cell-style":{background:"#fff"},height:"calc(100% - 100px)"}},[i("el-table-column",{attrs:{sortable:"",prop:"project",label:"Project","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{sortable:"",prop:"environment",label:"Environment","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{sortable:"",prop:"name",label:"Name","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{sortable:"",prop:"host",label:"Host","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{sortable:"",prop:"port",label:"Port","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{sortable:"",prop:"weight",label:"Weight","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showEdit!==e.$index?i("span",[t._v("\n                        "+t._s(e.row.weight)+"\n                    ")]):i("el-input",{staticClass:"input",attrs:{placeholder:"请输入weight"},on:{input:t.inputweight},model:{value:t.weight,callback:function(e){t.weight=t._n(e)},expression:"weight"}})]}}])}),i("el-table-column",{attrs:{label:"Operation"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showEdit!==e.$index?i("el-button",{staticClass:"el-icon-edit",staticStyle:{"font-size":"16px","margin-left":"15px"},attrs:{type:"text"},on:{click:function(i){return t.edit(e.row,e.$index)}}}):i("span",[i("el-button",{staticClass:"el-icon-check",staticStyle:{"font-size":"16px"},attrs:{type:"text"},on:{click:t.confirmEdit}}),i("el-button",{staticClass:"el-icon-close",staticStyle:{"font-size":"16px"},attrs:{type:"text"},on:{click:function(e){t.showEdit=-1}}})],1)]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":20,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)])},n=[],o=i("b775");function s(t){return Object(o["a"])({url:"/api/service/list",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/api/service/update",method:"post",data:t})}var r={name:"service",components:{},data:function(){return{currentPage:1,total:0,serviceData:[],showEdit:-1,version:"",weight:"",rowData:{},page:1,pageSize:20,options:[{value:"ALL_ALLOWED",label:"ALL_ALLOWED"},{value:"VERSION_BIGER",label:"VERSION_BIGER"},{value:"VERSION_BIGTHAN_OR_EQUAL",label:"VERSION_BIGTHAN_OR_EQUAL"},{value:"VERSION_SMALLER",label:"VERSION_SMALLER"},{value:"VERSION_EQUALS",label:"VERSION_EQUALS"}],routerMode:""}},watch:{},computed:{},created:function(){this.initserviceList()},methods:{initserviceList:function(){var t=this,e={page:this.page,pageSize:this.pageSize};s(e).then(function(e){t.serviceData=e.data.rows,t.total=e.data.total})},handleSizeChange:function(t){},handleCurrentChange:function(t){this.page=t,this.initserviceList()},edit:function(t,e){this.showEdit=e,this.rowData=t,this.weight=t.weight},confirmEdit:function(){var t=this;this.showEdit=-1;var e={host:this.rowData.host,port:this.rowData.port,url:this.rowData.url,weight:this.weight};l(e).then(function(e){t.initserviceList()})},inputversion:function(){this.version>100?this.version=100:this.version<0&&""!==this.weight&&(this.version=0)},inputweight:function(){this.weight<0&&""!==this.weight&&(this.weight=0)}}},c=r,u=(i("5b70"),i("2877")),h=Object(u["a"])(c,a,n,!1,null,null,null);e["default"]=h.exports},"5b70":function(t,e,i){"use strict";var a=i("e87a"),n=i.n(a);n.a},e87a:function(t,e,i){}}]);